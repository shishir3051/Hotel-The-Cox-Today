if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MWCMReportCommunityChannel.bs",["fbt","MWCMUseGetReportCommunityDialogTrigger.bs","MWMenuItem.react","MWThreadListHoverButtonDropdownMenuIcons.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.thread;a=b("MWCMUseGetReportCommunityDialogTrigger.bs").useHook(a);var c=g._(/*FBT_CALL*/"Report to Admin"/*FBT_CALL*/);return i.jsx(b("MWMenuItem.react"),{primaryText:c,onClick:a,icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").Report.icon})}c=a;f.make=c}),null);
__d("MWChatSettingsChangeConversationName.bs",["fbt","ix","CometLazyDialogTrigger.react","JSResource","MWCMEditChatInfoDialogTrigger.bs","MWCMThreadTypes.bs","MWMenuItem.react","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.thread;var c=b("MWCMThreadTypes.bs").isJoinedCMThread(a.threadType),d=j.useRef(null),e=c?g._(/*FBT_CALL*/"Chat info"/*FBT_CALL*/):g._(/*FBT_CALL*/"Conversation name"/*FBT_CALL*/);if(c)return j.jsx(b("MWCMEditChatInfoDialogTrigger.bs").make,{thread:a,children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:e,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","thread_name");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("477831"),20)})}});else return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWV2ThreadNameDialog.react").__setRef("MWChatSettingsChangeConversationName.bs"),dialogProps:{onClose:function(a){},thread:a},children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:e,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","thread_name");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("477831"),20),ref:d,testid:"messenger_settings_thread_name_menu"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsCustomizeEmoji.bs",["fbt","ix","CometLazyDialogTrigger.react","JSResource","MWMenuItem.react","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.thread;var c=j.useRef(null);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatCustomizeEmojiDialog").__setRef("MWChatSettingsCustomizeEmoji.bs"),dialogProps:{threadKey:a.threadKey,onClose:function(a){}},children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Emoji"/*FBT_CALL*/),onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","emoji");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("642537"),20),ref:c,testid:"messenger_settings_emoji_menu"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsEditNicknames.bs",["fbt","ix","CometLazyDialogTrigger.react","JSResource","MWMenuItem.react","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.thread;var c=g._(/*FBT_CALL*/"Nicknames"/*FBT_CALL*/),d=b("fbicon")._(h("477831"),20),e=j.useRef(null);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("LSNicknameDialog.react").__setRef("MWChatSettingsEditNicknames.bs"),dialogProps:{thread:a,onClose:function(a){}},children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:c,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","nickname");return b("bs_curry")._1(a,void 0)},icon:d,ref:e,testid:"messenger_settings_nickname_menu"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsMembers.bs",["fbt","ix","CometLazyDialogTrigger.react","JSResource","MWInboxInfoMembersSection.bs","MWInboxPersistedUIState","MWMenuItem.react","ODS","bs_curry","fbicon","react","useCommunityMembers"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.isCMThread,d=g._(/*FBT_CALL*/"Members"/*FBT_CALL*/),e=j.useRef(null),f=b("useCommunityMembers").useClearMemberList();a=b("MWInboxPersistedUIState").usePersistedUIState(!1,b("MWInboxInfoMembersSection.bs").storageKey);var i=a[0];return j.jsx(b("CometLazyDialogTrigger.react"),{onHide:function(a){if(c&&!i)return b("bs_curry")._1(f,void 0)},dialogResource:b("JSResource")("MWLSGroupMembershipDialog.react").__setRef("MWChatSettingsMembers.bs"),dialogProps:{onClose:function(a){}},children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:d,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","members");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("485103"),20),ref:e,testid:"messenger_settings_member_menu"})}})}c=a;f.make=c}),null);
__d("MWChatSettingsOpenMD.bs",["fbt","ix","MWMenuItem.react","MessengerDesktopPromoEventLogger","UserAgent","XMessengerDotComDesktopControllerRouteBuilder","fbicon","gkx","react","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=j.useRef(!1),d=j.useRef(b("uuid")()).current;j.useEffect(function(){b("gkx")("1749834")&&!c.current&&(c.current=!0,b("MessengerDesktopPromoEventLogger").log({location:"MessengerCometSettingsMenu",event:"Impression",funnelSessionId:d}))},[]);a=function(a){b("MessengerDesktopPromoEventLogger").log({location:"MessengerCometSettingsMenu",event:"Click",funnelSessionId:d})};var e=b("XMessengerDotComDesktopControllerRouteBuilder").buildUri({funnel_session_id:d}).setDomain("www.messenger.com").setProtocol("https").setFragment("startDownload").toString();if(b("gkx")("1749834"))if(b("UserAgent").isPlatform("Mac OS X"))return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Get the Messenger app"/*FBT_CALL*/),href:e,onClick:a,icon:b("fbicon")._(h("607958"),20),testid:"messenger_settings_macapp"});else if(b("UserAgent").isPlatform("Windows"))return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Get the Messenger app"/*FBT_CALL*/),href:e,onClick:a,icon:b("fbicon")._(h("607958"),20),testid:"messenger_settings_windowsapp"});else return null;else return null}c=a;f.make=c}),null);
__d("MWChatSettingsViewProfile.bs",["fbt","ix","MWMenuItem.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.href;return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"View profile"/*FBT_CALL*/),href:a,icon:b("fbicon")._(h("558623"),20),traceParams:{navigation_source:"chat_tab_view_profile"}})}c=a;f.make=c}),null);
__d("MWCMShareLinkMenuItem.bs",["fbt","ix","MWCMLinkShare.bs","MWMenuItem.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.thread;return j.jsx(b("MWCMLinkShare.bs").make,{thread:a,children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Copy link"/*FBT_CALL*/),onClick:a,secondaryText:g._(/*FBT_CALL*/"Invite group members to join this chat"/*FBT_CALL*/),icon:b("fbicon")._(h("481767"),20)})}})}c=a;f.make=c}),null);
__d("MWV2EditEmojiMenuItemCond.bs",["cr:209"],(function(a,b,c,d,e,f){"use strict";a=b("cr:209").make;f.$MWV2EditEmojiMenuItem$OR$MWChatSettingsCustomizeEmoji$requireCond=b("cr:209");f.make=a}),null);
__d("MWV2ChatSettingsBlockGroupMember.bs",["fbt","ix","CometLazyDialogTrigger.react","JSResourceForInteraction","MWMenuItem.react","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.thread;var c=g._(/*FBT_CALL*/"Block a member"/*FBT_CALL*/);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWV2BlockGroupMemberDialogForJSResource.react",{name:"MWV2BlockGroupMemberDialog","class":"fluid"}).__setRef("MWV2ChatSettingsBlockGroupMember.bs"),dialogProps:{threadKey:a.threadKey,onClose:function(a){}},children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:c,onClick:function(c){return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("482898"),20)})}})}c=a;f.make=c}),null);
__d("MWV2ChatSettingsIgnoreMessages.bs",["fbt","ix","CometLazyDialogTrigger.react","JSResourceForInteraction","LsIgnoreTappedFalcoEvent","LsMessengerThreadDamagingActionsEntryPoint.bs","MWMenuItem.react","bs_caml_int64","bs_curry","bs_int64","fbicon","react","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.thread;a=a.tab;var d=b("uuid")(),e=j.useRef(null);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWV2IgnoreMessagesDialogForJSResource",{name:"MWV2IgnoreMessagesDialog","class":"fluid"}).__setRef("MWV2ChatSettingsIgnoreMessages.bs"),dialogProps:{thread:c,tab:a,onClose:function(a){},uuid:d,entryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings},children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Ignore messages"/*FBT_CALL*/),onClick:function(e){b("LsIgnoreTappedFalcoEvent").log(function(){return{thread:{id:b("bs_int64").to_string(c.threadKey),type:b("bs_caml_int64").to_int32(c.threadType)},entry_point:{entry_point:b("bs_caml_int64").to_int32(b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings)},uuid:d,extra_data_map:{}}});return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("578906"),20),ref:e,testid:"messenger_settings_ignore"})}})}c=a;f.make=c}),null);
__d("MWV2ChatSettingsMute.bs",["ix","CometLazyDialogTrigger.react","JSResource","MWMenuItem.react","MessengerMuteUtils.bs","ODS","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread;a=a.disabled;var d=a!==void 0?a:!1,e=b("MessengerMuteUtils.bs").muteActionLabel(!1),f=i.useRef(null);return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("LSMuteThreadDialogForJSResource.react").__setRef("MWV2ChatSettingsMute.bs"),dialogProps:{onClose:function(a){},threadKey:c.threadKey},children:function(a){return i.jsx(b("MWMenuItem.react"),{primaryText:e,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","mute");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(g("532356"),20),ref:f,disabled:d,testid:"messenger_settings_mute_menu"})}})}c=a;f.make=c}),null);
__d("MAWChatSettingsUnmuteMenuItem.bs",["ix","MAWSecureThreadUpdateMuteSetting.bs","MWMenuItem.react","bs_caml_option","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread,d=a.label;a=a.mutedUntilLabel;var e=b("MAWSecureThreadUpdateMuteSetting.bs").useHook(c.threadKey,0,function(a){});c={primaryText:d,onClick:function(a){b("bs_curry")._1(e,void 0)},icon:b("fbicon")._(g("652791"),20)};a!==void 0&&(c.secondaryText=b("bs_caml_option").valFromOption(a));return i.jsx(b("MWMenuItem.react"),c)}c=a;f.make=c}),null);
__d("MWV2ChatSettingsUnmute.bs",["ix","LSMessagingThreadTypeUtil.bs","MAWChatSettingsUnmuteMenuItem.bs","MAWGating.bs","MWChatUnmuteThread.bs","MWMenuItem.react","MessengerMuteUtils.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_curry","cr:10881","fbicon","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){var c=a.threadKey,d=b("useReStore")();return b("bs_belt_Option").getWithDefault(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("threads")),{hd:c,tl:0}),function(a){return b("bs_caml_int64").to_float(a.muteExpireTimeMs)})},[d,JSON.stringify(c)])),0)}function a(a){var c=a.thread;a=j(c);var d=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),e=b("MessengerMuteUtils.bs").muteActionLabel(!0);a=b("MessengerMuteUtils.bs").mutedUntilLabel(a/1e3);var f=b("MWChatUnmuteThread.bs").useHook(void 0),h=b("MAWGating.bs").isOccamadillo(void 0);if(!(b("cr:10881")==null)&&!h&&d)return i.jsx(b("MAWChatSettingsUnmuteMenuItem.bs").make,{thread:c,label:e,mutedUntilLabel:a});h={primaryText:e,onClick:function(a){return b("bs_curry")._1(f,c)},icon:b("fbicon")._(g("652791"),20)};a!==void 0&&(h.secondaryText=b("bs_caml_option").valFromOption(a));return i.jsx(b("MWMenuItem.react"),h)}c=a;f.$MAWChatMuteConversationDialogButton$requireCond=b("cr:10881");f.make=c}),null);
__d("MWV2EditPhotoMenuItem.bs",["fbt","MWInboxInfoActionsSectionIcons.bs","MWMenuItem.react","MWV2EditPhotoUploader.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"Change Photo"/*FBT_CALL*/);function a(a){a=a.thread;return i.jsx(b("MWV2EditPhotoUploader.bs").make,{thread:a,children:function(a){return i.jsx(b("MWMenuItem.react"),{primaryText:j,onClick:function(c){return b("bs_curry")._1(a,void 0)},icon:b("MWInboxInfoActionsSectionIcons.bs").ChangePhoto.icon,preventClosingMenuOnSelect:!0})}})}c=a;f.make=c}),null);
__d("MWV2EditThemeMenuItem.bs",["fbt","JSResourceForInteraction","MWColorWheelIcon.bs","MWMenuItem.react","MWPThreadTheme.bs","bs_curry","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread;a=b("MWPThreadTheme.bs").useHook(void 0);var d=a.setPreviewId;a=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWV2EditThemeDialog.react").__setRef("MWV2EditThemeMenuItem.bs"));var e=a[0];return i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Change theme"/*FBT_CALL*/),onClick:function(a){a={thread:c,onClose:function(a){}};var f=function(a){return b("bs_curry")._1(d,function(a){})};return e(a,f)},icon:b("MWColorWheelIcon.bs").make})}c=a;f.make=c}),null);
__d("MWV2OpenGroupHeaderMenuItem.bs",["fbt","ix","FBID.bs","MWCMUseFolder.bs","MWMenuItem.react","XCometGroupLandingControllerRouteBuilder","bs_int64","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.thread;a=b("MWCMUseFolder.bs").useHook(a);if(a===void 0)return null;var c=b("XCometGroupLandingControllerRouteBuilder").buildURL({group_id:b("FBID.bs").ofString(b("bs_int64").to_string(a.fbGroupId))});return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Go to {group name}"/*FBT_CALL*/,[g._param("group name",a.name)]),href:c,icon:b("fbicon")._(h("510950"),20)})}c=a;f.make=c}),null);
__d("MWViewPinnedMessagesMenuItem.react",["fbt","ix","CometLazyDialogTrigger.react","JSResourceForInteraction","MWMenuItem.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=h._(/*FBT_CALL*/"View pinned messages"/*FBT_CALL*/),l=d("fbicon")._(i("511758"),20),m=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWViewPinnedMessagesMenuItem.react");function a(a){a=a.thread;return j.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:function(){},threadKey:a.threadKey},dialogResource:m,children:function(a){return j.jsx(c("MWMenuItem.react"),{icon:l,onClick:a,primaryText:k})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWViewPinnedMessagesMenuItem.bs",["MWViewPinnedMessagesMenuItem.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWViewPinnedMessagesMenuItem.react");f.make=a}),null);
__d("MWV2HeaderSettingsMenu.bs",["fbt","ix","Actor.re","BaseContextualLayerAvailableHeightContext","CommunityMessagingEnableState.bs","CurrentEnvironment","FBID.bs","LS.bs","LSContactBlockedByViewerStatus.bs","LSLocalOptimisticDeleteCommunityChannel","LSMessagingThreadTypeUtil.bs","LSOptimisticRemoveThread","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadRemoveType.bs","LSTransaction.bs","LsMessengerThreadDamagingActionsEntryPoint.bs","LsMessengerThreadDamagingActionsSource","LsMessengerThreadDamagingActionsSourceOwner","LsSystemFolder.bs","MAWGating.bs","MWAddMemberToGroupDialogTrigger.bs","MWCMReportCommunityChannel.bs","MWCMShareLinkMenuItem.bs","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWChatSettingsChangeConversationName.bs","MWChatSettingsDeleteConversation.bs","MWChatSettingsEditNicknames.bs","MWChatSettingsMembers.bs","MWChatSettingsOpenMD.bs","MWChatSettingsViewProfile.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWGroupLimitContainer.bs","MWInboxInfoBlockMessages.bs","MWInboxInfoFRXItem.bs","MWInboxInfoMessengerRestrict.bs","MWLSCanLeaveGroup.bs","MWLSContactTypeExactUtils.bs","MWLSFeatureLimitedStatus.bs","MWLSLeaveGroupMenuItem.bs","MWMenu.react","MWMenuItem.react","MWMenuTopSeparator.bs","MWPActor.bs","MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs","MWPThreadIsPage.bs","MWPUseIsThreadMuted.bs","MWThreadListHoverButtonDropdownMenuIcons.bs","MWV2ArchiveThreadMenuItem.bs","MWV2ChatSettingsBlockGroupMember.bs","MWV2ChatSettingsIgnoreMessages.bs","MWV2ChatSettingsMute.bs","MWV2ChatSettingsUnmute.bs","MWV2EditEmojiMenuItemCond.bs","MWV2EditPhotoMenuItem.bs","MWV2EditThemeMenuItem.bs","MWV2OpenGroupHeaderMenuItem.bs","MWV2OpenTabOrThread.bs","MWViewPinnedMessagesMenuItem.bs","MWXacGating.bs","MessengerDesktopDeepLinkUtils","MessengerDesktopDeeplinkEventFalcoEvent","MessengerRestrictButtonSource.bs","ODS","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","XCometVanityURLControllerRouteBuilder","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_option","bs_curry","bs_int64","cr:2886","cr:2887","cr:2888","cr:3103","cr:587","fbicon","gkx","promiseDone","qex","react","useReStore","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){a=a.thread;var c=b("MWV2OpenTabOrThread.bs").useHook(void 0),d=b("MWCMThreadTypes.bs").isJoinedCMThread(a.threadType);return d&&!(b("cr:3103")==null)?j.jsx(b("cr:3103").make,{thread:a}):j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Open in Messenger"/*FBT_CALL*/),href:b("bs_curry")._2(c.getUrlFromThreadKey,a.threadKey,a.threadType),onClick:function(a){b("ODS").bumpEntityKey(3185,"mwchat_settings","open_messenger")},icon:b("fbicon")._(h("505620"),20),testid:"messenger_settings_open_inbox"})}c={make:k};function l(a){a=a.thread;var c=b("Actor.re").useActor(),d=j.useRef(b("uuid")()),e=j.useRef(!1);j.useEffect(function(){e.current||(e.current=!0,b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"chat_settings_open_in_app_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:d.current,mobile_app_source:"unknown"}}))},[]);var f=function(a){b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"chat_settings_open_in_app_click",eventLocation:"browser",eventType:"thread",funnelSessionId:d.current,mobile_app_source:"unknown"}})};return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Open Messenger app"/*FBT_CALL*/),href:b("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:d.current,id:b("bs_caml_option").some(c[0]),thread:b("bs_int64").to_string(a.threadKey),origin:"FB"}).setDomain("www.messenger.com").setProtocol("https").toString(),onClick:f,icon:b("fbicon")._(h("505620"),20),testid:"messenger_settings_open_in_app"})}d={make:l};function m(a){a=a.thread;var c=b("MWCMThreadTypes.bs").isJoinedCMThread(a.threadType)?g._(/*FBT_CALL*/"Add Members"/*FBT_CALL*/):g._(/*FBT_CALL*/"Add people"/*FBT_CALL*/);return j.jsx(b("MWGroupLimitContainer.bs").make,{children:j.jsx(b("MWAddMemberToGroupDialogTrigger.bs").make,{thread:a,children:function(a,d){return j.jsx(b("MWMenuItem.react"),{primaryText:c,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","add_people");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("497891"),20)})}}),groupLimitReachedContent:null,thread:a})}e={make:m};function n(a){var c=a.thread,d=b("useReStore")(),e=b("MWChatStateV2.bs").useDispatch(void 0),f=b("MWPActor.bs").useActor(void 0);a=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("participants")),{hd:c.threadKey,tl:0}),function(a){return b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:a.contactId,tl:0}))})},[d,JSON.stringify(c.threadKey)]));var i=[];a.forEach(function(a){if(a!==void 0&&b("bs_caml").i64_neq(a.id,f)){i.push(a);return}});return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Create group"/*FBT_CALL*/),onClick:function(a){return b("bs_curry")._1(e,b("MWChatStateActions.bs").openTab(Date.now(),{shouldFocus:!0},{TAG:0,_0:i}))},icon:b("fbicon")._(h("943402"),20)})}var o={make:n};function p(a){var c=a.thread,d=a.contactId;a=a.isPage;return j.jsx(b("MWInboxInfoBlockMessages.bs").make,{thread:c,contactId:d,isPage:a,children:function(a,c,d,e){return j.jsx(b("MWMenuItem.react"),{primaryText:d,onClick:function(c){b("ODS").bumpEntityKey(3185,"mwchat_settings","block");return b("bs_curry")._1(a,void 0)},icon:b("fbicon")._(h("482898"),20),testid:"mw_block_messages_button"})},loggingEntryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings,loggingSource:a?b("LsMessengerThreadDamagingActionsSource").PAGE:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD,loggingSourceOwner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI})}var q={make:p};function r(a){var c=a.contactId,d=a.thread;a=a.threadKey;return j.jsx(b("MWInboxInfoMessengerRestrict.bs").make,{contactId:c,thread:d,threadKey:a,loggingEntryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings,buttonSource:b("MessengerRestrictButtonSource.bs").chat_tab_settings})}var s={make:r};function t(a){var c=a.thread,d=a.tab,e=b("useReStore")(),f=b("MWChatStateV2.bs").useDispatch(void 0),g=b("MWCMThreadTypes.bs").isJoinedCMThread(c.threadType);a=j.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(e,function(a){if(g)return b("LSLocalOptimisticDeleteCommunityChannel")(c.threadKey,b("LS.bs").make(a));else return b("LSOptimisticRemoveThread")(c.threadKey,b("LSThreadRemoveType.bs").deleteThread,b("LS.bs").make(a))},"readWrite"),function(a){return b("bs_curry")._1(f,b("MWChatStateActions.bs").closeTab(Date.now(),d.tabId))},void 0),b("ODS").bumpEntityKey(3185,"mwchat_settings","delete_conv")},[e,c,f,g]);return j.jsx(b("MWChatSettingsDeleteConversation.bs").make,{onClick:a,thread:c})}var u={make:t};function v(a){a=a.thread;return j.jsx(b("MWInboxInfoFRXItem.bs").make,{thread:a,children:function(a,c,d,e){return j.jsx(b("MWMenuItem.react"),{primaryText:d,onClick:function(c){b("bs_curry")._1(a,void 0),b("ODS").bumpEntityKey(3185,"mwchat_settings","feedback")},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").SomethingIsWrong.icon,ref:c})}})}var w={make:v};function a(a){var c=a.thread;a=a.tab;var d=b("MWPActor.bs").useActor(void 0),e=b("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs").useValue(c),f=b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType)?b("bs_caml_option").undefined_to_opt(e.find(function(a){return b("bs_caml").i64_neq(a[1].id,d)})):void 0,g;if(f!==void 0){var h=f[1],i=h.secondaryName,o=0;i!==void 0&&b("MWLSContactTypeExactUtils.bs").isIgContact(h)?g="https://www.instagram.com/"+i:o=1;o===1&&(g=(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.threadKey))}))}else g=void 0;h=b("MWLSCanLeaveGroup.bs").useHook(c);i=b("MWPThreadIsPage.bs").useIsPage(void 0);var q=b("MWCMUseFolder.bs").useHook(c),s=b("MWCMThreadTypes.bs").isJoinedCMThread(c.threadType);o=j.useMemo(function(){if(q!==void 0&&s)return q.enableState},[JSON.stringify(c.threadKey)]);o=b("bs_caml").i64_eq(b("bs_belt_Option").getWithDefault(o,b("CommunityMessagingEnableState.bs").enabled),b("CommunityMessagingEnableState.bs").disableRequested);var u=f!==void 0?b("bs_caml").i64_neq(f[1].blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked):!1,w=e.some(function(a){return b("bs_caml").i64_eq(a[1].id,d)}),x=!1;if(e.length===1){e=b("bs_caml_array").get(e,0);x=b("bs_caml").i64_eq(e[1].id,d)}e=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType);var y=b("MWPUseIsThreadMuted.bs").useHook(c),z=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!e||b("MAWGating.bs").isFeatureLimitEnabled(void 0)),A=b("bs_caml").i64_eq(c.parentThreadKey,b("LsSystemFolder.bs").other),B=b("bs_caml").i64_eq(c.parentThreadKey,b("LsSystemFolder.bs").pending),C=b("bs_caml").i64_eq(c.parentThreadKey,b("LsSystemFolder.bs").archived);A=!A&&!B&&!C;B=f!==void 0?b("MWLSContactTypeExactUtils.bs").isIgContact(f[1])?b("MWXacGating.bs").isGroupsEnabled(void 0):!0:!1;var D=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadDetailsProfileButton,c)&&!x,E=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").colorCustomization,c)&&!z,F=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").emojiCustomization,c)&&!z,G=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").nicknames,c)&&b("gkx")("1846003"),H=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadNameCustomization,c)&&b("gkx")("1841593")&&!z&&!o,I=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadPhotoCustomization,c)&&!z,J=b("qex")._("898")===!0&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").pinnedMessagesV2,c),K=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").addMember,c)&&b("gkx")("1480724")&&!z,L=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").memberList,c);z=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").createGroup,c)&&!z&&B;B=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").goToSecretConversation,c);var M=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").muteThread,c),N=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").ignoreMessages,c)&&!e,O=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").block,c),P=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").restrictContact,c)&&b("gkx")("3846"),Q=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").blockGroupMember,c),R=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadDetailsDeleteThread,c)&&!o,S=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").reportChatToAdmin,c),T=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").feedbackAndReport,c),U=b("gkx")("1123")&&b("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible(),V=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").archiveThread,c),W=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").unarchiveThread,c);x=s&&x;return j.createElement(b("BaseContextualLayerAvailableHeightContext").Provider,{children:j.jsxs(b("MWMenu.react"),{autoFocus:!0,children:[s?j.jsx(b("MWV2OpenGroupHeaderMenuItem.bs").make,{thread:c}):null,U?j.jsx(l,{thread:c}):j.jsx(k,{thread:c}),s?null:j.jsx(b("MWChatSettingsOpenMD.bs").make,{}),D&&g!==void 0?j.jsx(b("MWChatSettingsViewProfile.bs").make,{href:g}):null,u?null:j.jsxs(b("MWMenuTopSeparator.bs").make,{children:[E?j.jsx(b("MWV2EditThemeMenuItem.bs").make,{thread:c}):null,F?j.jsx(b("MWV2EditEmojiMenuItemCond.bs").make,{thread:c}):null,G?j.jsx(b("MWChatSettingsEditNicknames.bs").make,{thread:c}):null,H?j.jsx(b("MWChatSettingsChangeConversationName.bs").make,{thread:c}):null,I?j.jsx(b("MWV2EditPhotoMenuItem.bs").make,{thread:c}):null,J?j.jsx(b("MWViewPinnedMessagesMenuItem.bs").make,{thread:c}):null]}),w?j.jsxs(b("MWMenuTopSeparator.bs").make,{children:[L?j.jsx(b("MWChatSettingsMembers.bs").make,{isCMThread:s}):null,s&&!o?j.jsx(b("MWCMShareLinkMenuItem.bs").make,{thread:c}):null,K?j.jsx(m,{thread:c}):null,h?j.jsx(b("MWLSLeaveGroupMenuItem.bs").make,{thread:c,showIcon:!0,shouldDeleteThreadOnLeave:x}):null,z?j.jsx(n,{thread:c}):null]}):null,B&&!(b("cr:2888")==null)?j.jsx(b("cr:2888").make,{fbid:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.threadKey)),entryPoint:"chatTabSettingsMenu"}):null,j.jsxs(b("MWMenuTopSeparator.bs").make,{children:[u||!M?null:y?j.jsx(b("MWV2ChatSettingsUnmute.bs").make,{thread:c}):j.jsx(b("MWV2ChatSettingsMute.bs").make,{thread:c}),N?j.jsx(b("MWV2ChatSettingsIgnoreMessages.bs").make,{thread:c,tab:a}):null,O&&f!==void 0?j.jsx(p,{thread:c,contactId:f[1].id,isPage:i}):null,P&&f!==void 0?j.jsx(r,{contactId:f[1].id,thread:c,threadKey:c.threadKey}):null,Q?j.jsx(b("MWV2ChatSettingsBlockGroupMember.bs").make,{thread:c}):null]}),!(b("cr:2887")==null)&&b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType)?j.jsx(b("cr:2887").make,{thread:c}):null,b("cr:587")==null?null:j.jsx(b("cr:587").make,{thread:c}),j.jsxs(b("MWMenuTopSeparator.bs").make,{children:[V&&A?j.jsx(b("MWV2ArchiveThreadMenuItem.bs").Archive.make,{thread:c}):null,W&&C?j.jsx(b("MWV2ArchiveThreadMenuItem.bs").Unarchive.make,{thread:c}):null,R?b("cr:2886")==null?j.jsx(t,{thread:c,tab:a}):e?j.jsx(b("cr:2886").make,{thread:c,tab:a}):j.jsx(t,{thread:c,tab:a}):null,b("MWCMThreadTypes.bs").isJoinedCMThread(c.threadType)&&S?j.jsx(b("MWCMReportCommunityChannel.bs").make,{onClick:function(a){},thread:c}):null,T?j.jsx(v,{thread:c}):null]})],truncate:!0,withArrow:!0}),value:400})}var x=b("cr:2886"),y=b("cr:3103");a=a;f.$MAWHeaderSettingsMenuDeleteSecureThread$requireCondXplat=b("cr:2886");f.mawHeaderSettingsMenuDeleteSecureThreadModule=x;f.$MWCMChatSettingsOpenInbox$OR$null$requireCond=b("cr:3103");f.mwcmChatSettingsOpenInbox=y;f.OpenInMessenger=c;f.OpenInMessengerApp=d;f.AddMember=e;f.CreateGroup=o;f.BlockUser=q;f.RestrictUser=s;f.DeleteThread=u;f.FeedbackAndReport=w;f.$MAWEndToEndEncryptionKeysMenuItem$requireCondXplat=b("cr:2887");f.$MAWEphemeralMessagesSettingsMenuItem$requireCondXplat=b("cr:587");f.$MAWSecureConversationThreadListMenuItem$requireCondXplat=b("cr:2888");f.make=a}),null);
__d("MWV2HeaderSettingsMenuForJSResource.react",["MWV2HeaderSettingsMenu.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MWV2HeaderSettingsMenu.bs").make}),98);