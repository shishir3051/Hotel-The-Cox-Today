if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("CometPrivacySelectorFullCustomViewQuery.graphql",["CometPrivacySelectorFullCustomViewQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"localPrivacyRow"},c={defaultValue:null,kind:"LocalArgument",name:"privacyWriteID"},d={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},e={defaultValue:null,kind:"LocalArgument",name:"tags"},f=[{kind:"Variable",name:"privacy_write_id",variableName:"privacyWriteID"},{kind:"Variable",name:"render_location",variableName:"renderLocation"},{kind:"Variable",name:"selected_override",variableName:"localPrivacyRow"},{kind:"Variable",name:"tags",variableName:"tags"}],g={kind:"Literal",name:"scale",value:2},h=[g,{kind:"Literal",name:"size",value:20}],i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}];g=[g,{kind:"Literal",name:"size",value:24}];h=[{alias:null,args:null,kind:"ScalarField",name:"allows_tag_expansion",storageKey:null},{alias:"icon20",args:h,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:i,storageKey:"icon(scale:2,size:20)"},{alias:"icon24",args:g,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:i,storageKey:"icon(scale:2,size:24)"},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:"photo20",args:h,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:"profile_picture(scale:2,size:20)"},{alias:"photo24",args:g,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:"profile_picture(scale:2,size:24)"},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}];g=[{alias:null,args:null,concreteType:"PrivacySelectorFullCustomSearchEntry",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"normalizeCometPrivacySelectorFullCustomDataEntry_entry",selections:h,args:null,argumentDefinitions:[]}],storageKey:null}];i={alias:null,args:null,kind:"ScalarField",name:"tag_expansion_state",storageKey:null};h=[{alias:null,args:null,concreteType:"PrivacySelectorFullCustomSearchEntry",kind:"LinkedField",name:"nodes",plural:!0,selections:h,storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"CometPrivacySelectorFullCustomViewQuery",selections:[{alias:null,args:f,concreteType:"PrivacySelectorFullCustom",kind:"LinkedField",name:"privacy_selector_full_custom",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacySelectorFullCustomExclusionsConnection",kind:"LinkedField",name:"exclusions",plural:!1,selections:g,storageKey:null},{alias:null,args:null,concreteType:"PrivacySelectorFullCustomInclusionsConnection",kind:"LinkedField",name:"inclusions",plural:!1,selections:g,storageKey:null},i],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a,e],kind:"Operation",name:"CometPrivacySelectorFullCustomViewQuery",selections:[{alias:null,args:f,concreteType:"PrivacySelectorFullCustom",kind:"LinkedField",name:"privacy_selector_full_custom",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacySelectorFullCustomExclusionsConnection",kind:"LinkedField",name:"exclusions",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"PrivacySelectorFullCustomInclusionsConnection",kind:"LinkedField",name:"inclusions",plural:!1,selections:h,storageKey:null},i],storageKey:null}]},params:{id:b("CometPrivacySelectorFullCustomViewQuery_facebookRelayOperation"),metadata:{},name:"CometPrivacySelectorFullCustomViewQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useCometPrivacySelectorFullCustomDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4845609978890544"}),null);
__d("useCometPrivacySelectorFullCustomDataSourceQuery.graphql",["useCometPrivacySelectorFullCustomDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"limit"},{defaultValue:null,kind:"LocalArgument",name:"privacyWriteID"},{defaultValue:null,kind:"LocalArgument",name:"query"},{defaultValue:null,kind:"LocalArgument",name:"renderLocation"},{defaultValue:null,kind:"LocalArgument",name:"type"}],c=[{kind:"Variable",name:"first",variableName:"limit"},{kind:"Variable",name:"privacy_write_id",variableName:"privacyWriteID"},{kind:"Variable",name:"query",variableName:"query"},{kind:"Variable",name:"render_location",variableName:"renderLocation"},{kind:"Variable",name:"type",variableName:"type"}],d={kind:"Literal",name:"scale",value:2},e=[d,{kind:"Literal",name:"size",value:20}],f=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}];d=[d,{kind:"Literal",name:"size",value:24}];e=[{alias:null,args:null,kind:"ScalarField",name:"allows_tag_expansion",storageKey:null},{alias:"icon20",args:e,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:f,storageKey:"icon(scale:2,size:20)"},{alias:"icon24",args:d,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:f,storageKey:"icon(scale:2,size:24)"},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:"photo20",args:e,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:f,storageKey:"profile_picture(scale:2,size:20)"},{alias:"photo24",args:d,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:f,storageKey:"profile_picture(scale:2,size:24)"},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useCometPrivacySelectorFullCustomDataSourceQuery",selections:[{alias:null,args:c,concreteType:"PrivacySelectorFullCustomSearchConnection",kind:"LinkedField",name:"privacy_selector_full_custom_search",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacySelectorFullCustomSearchEntry",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"normalizeCometPrivacySelectorFullCustomDataEntry_entry",selections:e,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useCometPrivacySelectorFullCustomDataSourceQuery",selections:[{alias:null,args:c,concreteType:"PrivacySelectorFullCustomSearchConnection",kind:"LinkedField",name:"privacy_selector_full_custom_search",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacySelectorFullCustomSearchEntry",kind:"LinkedField",name:"nodes",plural:!0,selections:e,storageKey:null}],storageKey:null}]},params:{id:b("useCometPrivacySelectorFullCustomDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useCometPrivacySelectorFullCustomDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("normalizeCometPrivacySelectorFullCustomDataEntry_entry.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"normalizeCometPrivacySelectorFullCustomDataEntry_entry"};e.exports=a}),null);
__d("CometPrivacySelectorFullCustomTokenStrategy.react",["CometToken.react","TintableIconSource","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.addOnSecondary,d=a.isDisabled,e=a.onPress,f=a.token;a=f.label;var g=f.rawData,i=g.icon20;g=g.photo20;var j=null;g!=null?j={source:g,type:"profile-photo"}:i!=null&&(j={icon:new(c("TintableIconSource"))("FB",i,20),type:"icon"});g=function(a){a.preventDefault(),e(f)};return h.jsx(c("CometToken.react"),{addOn:j,addOnSecondary:b,disabled:d,level:4,onPress:g,text:a,type:"remove"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometPrivacySelectorFullCustomViewStrategyViewItem.react",["CometTypeaheadListCellViewItem.react","TetraListCell.react","TintableIconSource","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);var d=b.rawData,e=d.icon24;d=d.photo24;var f=null;d!=null?f={size:24,source:{uri:d},type:"profile-photo"}:e!=null&&(f={icon:new(c("TintableIconSource"))("FB",e,24),size:24,type:"icon"});return h.jsx(c("CometTypeaheadListCellViewItem.react"),babelHelpers["extends"]({},a,{entry:b,children:h.jsx(c("TetraListCell.react"),{addOnPrimary:f,addOnPrimaryVerticalAlign:"center",headline:b.label,headlineLineLimit:3,level:4})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("normalizeCometPrivacySelectorFullCustomDataEntry",["CometRelay","coerceRelayImage","normalizeCometPrivacySelectorFullCustomDataEntry_entry.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("normalizeCometPrivacySelectorFullCustomDataEntry_entry.graphql"),a);var e=a.allows_tag_expansion,f=a.icon20,g=a.icon24,i=a.key,j=a.label,k=a.photo20,l=a.photo24;a=a.type;return i==null||j==null||a==null?null:{key:i,label:j,rawData:{allowsTagExpansion:(i=e)!=null?i:!1,icon20:f!=null?c("coerceRelayImage")(f):null,icon24:g!=null?c("coerceRelayImage")(g):null,photo20:k!=null?c("coerceRelayImage")(k):null,photo24:l!=null?c("coerceRelayImage")(l):null,type:a}}}g["default"]=a}),98);
__d("useCometPrivacySelectorFullCustomDataSource",["filterNulls","normalizeCometPrivacySelectorFullCustomDataEntry","useCometPrivacySelectorFullCustomDataSourceQuery.graphql","useCometTokenizerDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useCometPrivacySelectorFullCustomDataSourceQuery.graphql"),j=Object.freeze([]),k=8;function l(a){a=a==null?void 0:(a=a.privacy_selector_full_custom_search)==null?void 0:a.nodes;return a==null?j:c("filterNulls")(a.map(c("normalizeCometPrivacySelectorFullCustomDataEntry")))}function a(a){var b=a.privacyWriteID,d=a.renderLocation,e=a.tokens,f=a.type;return c("useCometTokenizerDataSource")({gqlQuery:i,limit:k,normalize:l,queryVariablesBuilderFunction:function(a){a=a.query;return{limit:k,privacyWriteID:b,query:a,renderLocation:d,type:f}},tokens:e})}g["default"]=a}),98);
__d("useCometPrivacySelectorFullCustomSimplificationNotice",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo;function a(a){var b=j(function(){var b=new Set();for(var c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;b.add(f.rawData.type)}return{hasCommunities:b.has("COMMUNITY"),hasUsersOrLists:b.has("USER")||b.has("LIST"),isFriendsLevel:b.has("FRIENDS_LEVEL"),isFriendsOfFriendsLevel:b.has("FRIENDS_OF_FRIENDS_LEVEL")}},[a]),c=b.hasCommunities,d=b.hasUsersOrLists,e=b.isFriendsLevel;b=b.isFriendsOfFriendsLevel;if(b&&(e||d))return c?h._(/*FBT_CALL*/"You will share this with {=m1} as your other choices are included within that audience."/*FBT_CALL*/,[h._implicitParam("=m1",i.jsx("strong",{children:h._(/*FBT_CALL*/"Friends of Friends and selected communities"/*FBT_CALL*/)}))]):h._(/*FBT_CALL*/"You will share this with {=m1} as your other choices are included within that audience."/*FBT_CALL*/,[h._implicitParam("=m1",i.jsx("strong",{children:h._(/*FBT_CALL*/"Friends of Friends"/*FBT_CALL*/)}))]);return e&&d?c?h._(/*FBT_CALL*/"You will share this with {=m1} as your other choices are included within that audience."/*FBT_CALL*/,[h._implicitParam("=m1",i.jsx("strong",{children:h._(/*FBT_CALL*/"Friends and selected communities"/*FBT_CALL*/)}))]):h._(/*FBT_CALL*/"You will share this with {=m1} as your other choices are included within that audience."/*FBT_CALL*/,[h._implicitParam("=m1",i.jsx("strong",{children:h._(/*FBT_CALL*/"Friends"/*FBT_CALL*/)}))]):null}g["default"]=a}),98);
__d("CometPrivacySelectorFullCustomView.react",["fbt","CometCheckbox.react","CometComponentWithKeyCommands.react","CometFormTokenizer.react","CometKeys","CometPrivacySelectorFullCustomTokenStrategy.react","CometPrivacySelectorFullCustomViewQuery.graphql","CometPrivacySelectorFullCustomViewStrategyViewItem.react","CometRelay","CometRow.react","CometRowItem.react","CometScrollableArea.react","CometUnit.react","CometUnitHeader.react","TetraButton.react","TetraText.react","filterNulls","normalizeCometPrivacySelectorFullCustomDataEntry","react","stylex","useCometPrivacySelectorFullCustomDataSource","useCometPrivacySelectorFullCustomSimplificationNotice","useCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useMemo,l=e.useReducer,m=e.useState,n={content:{paddingTop:"discj3wi",paddingEnd:"hv4rvrfc",paddingBottom:"ihqw7lf3",paddingStart:"dati1w0a"},footer:{boxShadow:"rdtkj4m6",paddingBottom:"f10w8fjw"},root:{display:"j83agx80",flexDirection:"cbu4d94t",justifyContent:"i1fnvgqd",maxHeight:"f0kvp8a6",minHeight:"pnzxbu4t"}};function o(a,b){switch(b.type){case"setIncludedTokens":var c=b.includedTokens,d=new Set(c.map(function(a){return a.key})),e=a.excludedTokens.filter(function(a){return!d.has(a.key)});a.exclusionDataSource.setTokens(e);var f=c.some(function(a){a=a.rawData;return a.allowsTagExpansion}),g=!f||a.tagExpansionState;return babelHelpers["extends"]({},a,{excludedTokens:e,includedTokens:c,showTagExpansionCheckbox:f,tagExpansionState:g});case"setExcludedTokens":e=b.excludedTokens;var h=new Set(e.map(function(a){return a.key}));c=a.includedTokens.filter(function(a){return!h.has(a.key)});a.inclusionDataSource.setTokens(c);return babelHelpers["extends"]({},a,{excludedTokens:e,includedTokens:c});case"toggleTagExpansionState":return babelHelpers["extends"]({},a,{tagExpansionState:!a.tagExpansionState});default:b.type;return a}}var p=[{command:{key:c("CometKeys").ENTER},description:h._(/*FBT_CALL*/"Prevent accidentally submitting parent forms"/*FBT_CALL*/),handler:null,isHiddenCommand:!0,triggerFromInputs:!0}];function a(a){var e=a.props,f=e.onReturn,g=e.onSave,q=e.privacyWriteID;e=e.renderLocation;a=a.queries.queryRef;a=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("CometPrivacySelectorFullCustomViewQuery.graphql"),a);var r=a.privacy_selector_full_custom,s=k(function(){var a,b,d;a=c("filterNulls")((a=r==null?void 0:(a=r.inclusions)==null?void 0:(a=a.nodes)==null?void 0:a.map(c("normalizeCometPrivacySelectorFullCustomDataEntry")))!=null?a:[]);var e=a.some(function(a){a=a.rawData;return a.allowsTagExpansion});b=(b=r==null?void 0:r.tag_expansion_state)!=null?b:"UNSPECIFIED";return{excludedTokens:c("filterNulls")((d=r==null?void 0:(d=r.exclusions)==null?void 0:(d=d.nodes)==null?void 0:d.map(c("normalizeCometPrivacySelectorFullCustomDataEntry")))!=null?d:[]),includedTokens:a,showTagExpansionCheckbox:e,tagExpansionState:!e||b==="UNSPECIFIED"}},[r]);a=c("useCometPrivacySelectorFullCustomDataSource")({privacyWriteID:q,renderLocation:e,tokens:s.includedTokens,type:"INCLUSION"});var t=m(""),u=t[0];t=t[1];q=c("useCometPrivacySelectorFullCustomDataSource")({privacyWriteID:q,renderLocation:e,tokens:s.excludedTokens,type:"EXCLUSION"});e=m("");var v=e[0];e=e[1];var w=l(o,babelHelpers["extends"]({},s,{exclusionDataSource:q,inclusionDataSource:a})),x=w[0],y=w[1],z=x.excludedTokens,A=x.includedTokens;w=x.showTagExpansionCheckbox;var B=x.tagExpansionState;x=h._(/*FBT_CALL*/"These people or lists"/*FBT_CALL*/);var C=k(function(){if(A.length===0)return!1;if(B!==s.tagExpansionState||A.length!==s.includedTokens.length||z.length!==s.excludedTokens.length)return!0;var a=new Set(s.includedTokens.map(function(a){return a.key})),b=new Set(s.excludedTokens.map(function(a){return a.key}));return A.some(function(b){return!a.has(b.key)})||z.some(function(a){return!b.has(a.key)})},[z,A,s,B]),D=c("useCometPrivacySelectorFullCustomSimplificationNotice")(A),E=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("CometPrivacySelectorFullCustomViewStrategyViewItem.react")}),F=m(!1),G=F[0],H=F[1];return j.jsxs(c("CometComponentWithKeyCommands.react"),{commandConfigs:p,xstyle:n.root,children:[j.jsxs(c("CometScrollableArea.react"),{horizontal:!1,xstyle:n.content,children:[j.jsxs(c("CometUnit.react"),{header:j.jsx(c("CometUnitHeader.react"),{headline:h._(/*FBT_CALL*/"Share with"/*FBT_CALL*/),level:2}),children:[j.jsx(c("CometFormTokenizer.react"),{dataSource:a,disabled:G,helperText:D,label:x,onChange:t,onChangeTokens:function(a){return y({includedTokens:a,type:"setIncludedTokens"})},queryString:u,tokenStrategyRenderer:c("CometPrivacySelectorFullCustomTokenStrategy.react"),tokens:A,viewStrategyRenderer:E}),w&&j.jsx(c("CometRow.react"),{children:j.jsxs(c("CometRowItem.react"),{children:[j.jsx(c("CometCheckbox.react"),{checked:B,disabled:G,label:h._(/*FBT_CALL*/"Friends of tagged"/*FBT_CALL*/),name:"tag_expansion_state",onChange:function(){return y({type:"toggleTagExpansionState"})},value:B}),j.jsx(c("TetraText.react"),{type:"meta4",children:h._(/*FBT_CALL*/"Anyone tagged will be able to see this post."/*FBT_CALL*/)})]})})]}),j.jsx(c("CometUnit.react"),{header:j.jsx(c("CometUnitHeader.react"),{hasTopDivider:!0,headline:h._(/*FBT_CALL*/"Don't share with"/*FBT_CALL*/),level:2}),children:j.jsx(c("CometFormTokenizer.react"),{dataSource:q,disabled:G,helperText:h._(/*FBT_CALL*/"Anyone you include here or have on your restricted list won't be able to see this post unless you tag them. We don't let people know when you choose not to share something with them."/*FBT_CALL*/),label:x,onChange:e,onChangeTokens:function(a){return y({excludedTokens:a,type:"setExcludedTokens"})},queryString:v,tokenStrategyRenderer:c("CometPrivacySelectorFullCustomTokenStrategy.react"),tokens:z,viewStrategyRenderer:E})})]}),j.jsx("div",{className:c("stylex")(n.footer),children:j.jsxs(c("CometRow.react"),{align:"end",paddingTop:12,children:[j.jsx(c("CometRowItem.react"),{children:j.jsx(c("TetraButton.react"),{disabled:G,label:h._(/*FBT_CALL*/"Cancel"/*FBT_CALL*/),onPress:f,reduceEmphasis:!0,type:"secondary"})}),j.jsx(c("CometRowItem.react"),{children:j.jsx(c("TetraButton.react"),{disabled:!C||G,label:h._(/*FBT_CALL*/"Save"/*FBT_CALL*/),onPress:function(){H(!0),g({allow:A.map(function(a){return a.key}),base_state:"SELF",deny:z.map(function(a){return a.key}),tag_expansion_state:B?"UNSPECIFIED":"TAGGEES"},function(){return H(!1)})},padding:"wide"})})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);