if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSIssueCommunityAdminModerationActionsFetch",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[0]=new c.Map(),d[0].set("fb_group_id",a[0]),d[0].set("target_user_id",a[1]),d[0].set("source",[0,0]),c.i64.gt([0,0],[0,0])?d[1]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[1]=[0,0],d[2]=d[0].get("fb_group_id"),d[0],d[3]=c.toJSON(d[0]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[2]),[0,428],d[3],f,f,[0,0],[0,0],f,f,d[1]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticUpdateThreadParticipantAdminStatus",["LSIssueNewTask","LSUpdateThreadParticipantAdminStatus"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(14).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(b.contactId,a[1])&&c.i64.eq(b.threadKey,a[0])&&b.isAdmin===a[2]}).next().then(function(e,g){g=e.done;e=e.value;return g?c.seq([function(d){return c.sp(b("LSUpdateThreadParticipantAdminStatus"),a[0],a[1],a[2])},function(e){return d[1]=new c.Map(),d[1].set("thread_key",a[0]),d[1].set("contact_id",a[1]),d[1].set("is_admin",a[2]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),"admin_status",[0,25],d[2],f,f,[0,0],[0,0],f,f,[0,0])}]):(e.item,0)})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MAWGroupAdminUtils.bs",["fbt","FBID.bs","LS.bs","LSIssueNewError","LSTransaction.bs","MAWBackendBridge.bs","MAWJob.bs","MAWThreadId.bs","Promise","bs_curry","bs_int64","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){var d=b("useReStore")();return function(e){return b("MAWThreadId.bs").ofThreadKey(d,a.threadKey).then(function(a){if(a)return b("bs_curry")._1(b("MAWBackendBridge.bs").getThreadJidByChatId({threadId:a._0}).sendAndReceive,void 0).then(function(a){if(a==null)return b("Promise").resolve(void 0);else return b("MAWJob.bs").promoteGroupParticipants.waitUntilCompleted(a,[b("FBID.bs").ofStringExn(b("bs_int64").to_string(c))]).then(function(a){if(a.success)return b("Promise").resolve(void 0);var c=g._(/*FBT_CALL*/"Couldn't add admin"/*FBT_CALL*/).toString();return b("LSTransaction.bs").run(d,function(a){return b("LSIssueNewError")(void 0,void 0,c,c,void 0,b("LS.bs").make(a))},"readWrite")})});else return b("Promise").resolve(void 0)})}}function c(a,c){var d=b("useReStore")();return function(e){return b("MAWThreadId.bs").ofThreadKey(d,a.threadKey).then(function(a){if(a)return b("bs_curry")._1(b("MAWBackendBridge.bs").getThreadJidByChatId({threadId:a._0}).sendAndReceive,void 0).then(function(a){if(a==null)return b("Promise").resolve(void 0);else return b("MAWJob.bs").demoteGroupParticipants.waitUntilCompleted(a,[b("FBID.bs").ofStringExn(b("bs_int64").to_string(c))]).then(function(a){if(a.success)return b("Promise").resolve(void 0);var c=g._(/*FBT_CALL*/"Couldn't remove admin"/*FBT_CALL*/).toString();return b("LSTransaction.bs").run(d,function(a){return b("LSIssueNewError")(void 0,void 0,c,c,void 0,b("LS.bs").make(a))},"readWrite")})});else return b("Promise").resolve(void 0)})}}f.createMakeAdminCallback=a;f.createRemoveAdminCallback=c}),null);
__d("MWPMakeOrRemoveGroupAdmin.bs",["LS.bs","LSOptimisticUpdateThreadParticipantAdminStatus","LSTransaction.bs","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=b("useReStore")();return h.useCallback(function(f){return b("LSTransaction.bs").run(e,function(e){return b("LSOptimisticUpdateThreadParticipantAdminStatus")(a.threadKey,c,d,b("LS.bs").make(e))},"readWrite")},[e,JSON.stringify(a.threadKey),JSON.stringify(c)])}f.useHook=a}),null);
__d("LSMakeAdminMenuItem.bs",["fbt","ix","CurrentEnvironment","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.bs","LSMessagingThreadTypeUtil.bs","MAWGroupAdminUtils.bs","MWCMUseFolder.bs","MWMenuItem.react","MWPMakeOrRemoveGroupAdmin.bs","bs_caml_option","bs_curry","cr:1368","fbicon","react","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.thread,d=a.contactId,e=a.name;a=b("MWCMUseFolder.bs").useHook(c);var f=b("useCometConfirmationDialog")(),i=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),k=b("MWPMakeOrRemoveGroupAdmin.bs").useHook(c,d,!0),l=!(b("cr:1368")==null)&&i?b("MAWGroupAdminUtils.bs").createMakeAdminCallback(c,d):k;i=j.useCallback(function(a){return b("bs_curry")._3(f,{body:g._(/*FBT_CALL*/"As a group admin, \"{owner's name}\" will be able to manage who can join and customise this conversation."/*FBT_CALL*/,[g._param("owner's name",e)]),cancel:g._(/*FBT_CALL*/"Cancel"/*FBT_CALL*/),confirm:g._(/*FBT_CALL*/"Make Admin"/*FBT_CALL*/),title:g._(/*FBT_CALL*/"Add group admin?"/*FBT_CALL*/)},function(a){b("bs_curry")._1(l,void 0)},function(a){})},[f,e,l]);c=a!==void 0?b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").reactiveModerationInBlue,a):!1;d=b("CurrentEnvironment").facebookdotcom?b("bs_caml_option").some(b("fbicon")._(h("530479"),24)):b("bs_caml_option").some(b("fbicon")._(h("530473"),16));k={primaryText:g._(/*FBT_CALL*/"Make Admin"/*FBT_CALL*/),onClick:i,testid:"ls_make_admin_menu_item",source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"};a=c?d:void 0;a!==void 0&&(k.icon=b("bs_caml_option").valFromOption(a));return j.jsx(b("MWMenuItem.react"),k)}c=a;f.$MAWRemoveGroupParticipantsUtils$requireCondXplat=b("cr:1368");f.make=c}),null);
__d("MWLSGroupMembershipMenuIcons.bs",["cr:1391"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1391")).Message;d=a.ViewProfile;e=a.Block;b=a.RemoveAsAdmin;var g=a.RemoveMember;f.$MWLSGroupMembershipMenuMDSIcons$OR$MWLSGroupMembershipMenuFDSIcons$requireCond=a;f.Message=c;f.ViewProfile=d;f.Block=e;f.RemoveAsAdmin=b;f.RemoveMember=g}),null);
__d("LSRemoveAdminMenuItem.bs",["fbt","ix","CurrentEnvironment","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.bs","LSMessagingThreadTypeUtil.bs","MAWGroupAdminUtils.bs","MWCMUseFolder.bs","MWLSGroupMembershipMenuIcons.bs","MWMenuItem.react","MWPMakeOrRemoveGroupAdmin.bs","bs_caml_option","bs_curry","cr:9865","fbicon","react","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.thread,d=a.contactId,e=a.name;a=b("MWCMUseFolder.bs").useHook(c);var f=b("useCometConfirmationDialog")(),i=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),k=b("MWPMakeOrRemoveGroupAdmin.bs").useHook(c,d,!1),l=!(b("cr:9865")==null)&&i?b("MAWGroupAdminUtils.bs").createRemoveAdminCallback(c,d):k;i=j.useCallback(function(a){return b("bs_curry")._3(f,{body:g._(/*FBT_CALL*/"\"{owner's name}\" will no longer be able to manage who can join and customise this conversation."/*FBT_CALL*/,[g._param("owner's name",e)]),cancel:g._(/*FBT_CALL*/"Cancel"/*FBT_CALL*/),confirm:g._(/*FBT_CALL*/"Remove"/*FBT_CALL*/),title:g._(/*FBT_CALL*/"Remove as group admin?"/*FBT_CALL*/)},function(a){b("bs_curry")._1(l,void 0)},function(a){})},[f,e,l]);c=a!==void 0?b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").reactiveModerationInBlue,a):!1;d=b("CurrentEnvironment").facebookdotcom?b("bs_caml_option").some(b("MWLSGroupMembershipMenuIcons.bs").RemoveAsAdmin.icon):b("bs_caml_option").some(b("fbicon")._(h("538075"),16));k={primaryText:g._(/*FBT_CALL*/"Remove as admin"/*FBT_CALL*/),onClick:i,testid:"ls_remove_admin_menu_item",source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"};a=c?d:void 0;a!==void 0&&(k.icon=b("bs_caml_option").valFromOption(a));return j.jsx(b("MWMenuItem.react"),k)}c=a;f.$MAWRemoveGroupParticipantsUtils$requireCond=b("cr:9865");f.make=c}),null);
__d("LSAdminModerationActionBitOffset.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12];f.blockFromCommunity=a;f.unblockFromCommunity=c;f.muteInCommunity=d;f.unmuteInCommunity=e;f.removeFromCommunity=b;f.promoteToAdmin=g;f.cancelAdminInvite=h;f.removeAsAdmin=i;f.promoteToModerator=j;f.removeAsModerator=k;f.cancelModeratorInvite=l;f.removeFromChat=m;f.resetNickname=n}),null);
__d("LSCommunityMemberListSource.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8];f.memberList=a;f.inviteMemberList=c;f.inviteActiveMember=d;f.inviteConversationStarter=e;f.inviteNewMembers=b;f.inviteFacebookFriends=g;f.inviteAllMembers=h;f.threadParticipantList=i;f.mentionList=j}),null);
__d("MWCMAdminReactiveModerationActions.bs",["LSBitFlag.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c=b("bs_caml_int64").lsl_(b("bs_caml_int64").one,b("bs_caml_int64").to_int32(c));return b("LSBitFlag.bs").has(c,a)}f.has=a}),null);
__d("MWCMAdminActionMenuItems.bs",["fbt","ix","CometEntryPointDialogTrigger.react","CurrentEnvironment","FBID.bs","GroupsCometMembersBlockMemberDialog.entrypoint","GroupsCometMembersCancelAdminInvitationDialog.entrypoint","GroupsCometMembersCancelModeratorInvitationDialog.entrypoint","GroupsCometMembersInviteAdminDialog.entrypoint","GroupsCometMembersInviteModeratorDialog.entrypoint","GroupsCometMembersRemoveAdminDialog.entrypoint","GroupsCometMembersRemoveMemberDialog.entrypoint","GroupsCometMembersRemoveModeratorDialog.entrypoint","GroupsCometMuteMemberDialog.entrypoint","LS.bs","LSAdminModerationActionBitOffset.bs","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.bs","LSCommunityMemberListSource.bs","LSIssueCommunityAdminModerationActionsFetch","LSTransaction.bs","MWCMAdminReactiveModerationActions.bs","MWCMUseFolder.bs","MWMenuItem.react","MWMenuTopSeparator.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_int64","bs_curry","bs_int64","fbicon","promiseDone","react","useGroupsCometUnblockMemberMutation","useGroupsCometUnmuteMemberMutation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){var c=a.groupID,d=a.memberID,e=a.mwSource;a=a.isVisible;var f=b("useGroupsCometUnmuteMemberMutation")(),i=b("CurrentEnvironment").facebookdotcom?b("fbicon")._(h("564394"),24):b("fbicon")._(h("564389"),16);if(a)return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Unsuspend from group"/*FBT_CALL*/),onClick:function(a){return b("bs_curry")._2(f,{groupID:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c)),memberID:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d)),mwSource:e,isContextualProfile:!1,source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"},function(a){})},icon:i});else return null}c={make:k};function l(a){var c=a.groupID,d=a.memberID,e=a.mwSource;a=a.isVisible;var f=b("useGroupsCometUnblockMemberMutation")();if(a)return j.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Unblock from group"/*FBT_CALL*/),onClick:function(a){return b("bs_curry")._2(f,{groupID:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c)),memberID:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d)),mwSource:e,source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"},function(a){})},icon:b("fbicon")._(h("482899"),24)});else return null}d={make:l};function m(a){var c=a.groupID,d=a.icon,e=a.memberID,f=a.mwSource,g=a.isVisible,h=a.label,i=a.dialogEntryPoint;a=a.source;if(g)return j.jsx(b("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:i,otherProps:{mwSource:f,source:a},preloadParams:{groupID:b("bs_int64").to_string(c),memberID:b("bs_int64").to_string(e)},children:function(a){return j.jsx(b("MWMenuItem.react"),{primaryText:h,onClick:function(c){return b("bs_curry")._1(a,void 0)},icon:d})}});else return null}e={make:m};function n(a){var c,d,e=a.contactId,f=a.folder,i=b("useReStore")();j.useEffect(function(){b("promiseDone")(b("LSTransaction.bs").run(i,function(a){return b("LSIssueCommunityAdminModerationActionsFetch")(f.fbGroupId,e,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},[i,b("bs_int64").to_string(f.fbGroupId),b("bs_int64").to_string(e)]);a=b("bs_belt_Option").getWithDefault(b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(i.table("community_members").index("communityContactId")),{hd:f.fbGroupId,tl:{hd:e,tl:{hd:b("LSCommunityMemberListSource.bs").memberList,tl:0}}}),function(a){return a.adminActions})},[JSON.stringify(e),i])),b("bs_caml_int64").zero);var n=(c=b("MWCMAdminReactiveModerationActions.bs")).has(a,(d=b("LSAdminModerationActionBitOffset.bs")).blockFromCommunity),o=c.has(a,d.unblockFromCommunity),p=c.has(a,d.muteInCommunity),q=c.has(a,d.unmuteInCommunity),r=c.has(a,d.removeFromCommunity),s=c.has(a,d.promoteToAdmin),t=c.has(a,d.cancelAdminInvite),u=c.has(a,d.removeAsAdmin),v=c.has(a,d.promoteToModerator),w=c.has(a,d.removeAsModerator);c=c.has(a,d.cancelModeratorInvite);a=f.fbGroupId;d=n||o||p||q||r||s||t||u||v||w||c;var x=b("CurrentEnvironment").facebookdotcom;return j.jsx(b("MWMenuTopSeparator.bs").make,{children:d?j.jsxs(j.Fragment,{children:[j.jsx(m,{groupID:a,icon:x?b("fbicon")._(h("482899"),24):b("fbicon")._(h("482896"),16),memberID:e,mwSource:{entity:"mw.block_from_group",key:"admin_action_menu_item"},isVisible:n,label:g._(/*FBT_CALL*/"Block from group"/*FBT_CALL*/),dialogEntryPoint:b("GroupsCometMembersBlockMemberDialog.entrypoint"),source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"}),j.jsx(l,{groupID:a,memberID:e,mwSource:{entity:"mw.unblock_from_group",key:"admin_action_menu_item"},isVisible:o}),j.jsx(m,{groupID:a,icon:x?b("fbicon")._(h("564400"),24):b("fbicon")._(h("796625"),16),memberID:e,mwSource:{entity:"mw.suspend",key:"admin_action_menu_item"},isVisible:p,label:g._(/*FBT_CALL*/"Suspend from group"/*FBT_CALL*/),dialogEntryPoint:b("GroupsCometMuteMemberDialog.entrypoint"),source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"}),j.jsx(k,{groupID:a,memberID:e,mwSource:{entity:"mw.unsuspend",key:"admin_action_menu_item"},isVisible:q}),j.jsx(m,{groupID:a,icon:x?b("fbicon")._(h("482899"),24):b("fbicon")._(h("482896"),16),memberID:e,mwSource:{entity:"mw.remove_from_group",key:"admin_action_menu_item"},isVisible:r,label:g._(/*FBT_CALL*/"Remove from group"/*FBT_CALL*/),dialogEntryPoint:b("GroupsCometMembersRemoveMemberDialog.entrypoint"),source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"}),j.jsx(m,{groupID:a,icon:x?b("fbicon")._(h("530479"),24):b("fbicon")._(h("530473"),16),memberID:e,mwSource:{entity:"mw.invite_to_be_admin",key:"admin_action_menu_item"},isVisible:s,label:g._(/*FBT_CALL*/"Invite to be an admin"/*FBT_CALL*/),dialogEntryPoint:b("GroupsCometMembersInviteAdminDialog.entrypoint"),source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"}),j.jsx(m,{groupID:a,icon:x?b("fbicon")._(h("538080"),24):b("fbicon")._(h("538075"),16),memberID:e,mwSource:{entity:"mw.cancel_admin_invite",key:"admin_action_menu_item"},isVisible:t,label:g._(/*FBT_CALL*/"Cancel admin invitation"/*FBT_CALL*/),dialogEntryPoint:b("GroupsCometMembersCancelAdminInvitationDialog.entrypoint"),source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"}),j.jsx(m,{groupID:a,icon:x?b("fbicon")._(h("538080"),24):b("fbicon")._(h("538075"),16),memberID:e,mwSource:{entity:"mw.remove_as_admin",key:"admin_action_menu_item"},isVisible:u,label:g._(/*FBT_CALL*/"Remove as admin"/*FBT_CALL*/),dialogEntryPoint:b("GroupsCometMembersRemoveAdminDialog.entrypoint"),source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"}),j.jsx(m,{groupID:a,icon:x?b("fbicon")._(h("487607"),24):b("fbicon")._(h("487603"),16),memberID:e,mwSource:{entity:"mw.invite_to_be_moderator",key:"admin_action_menu_item"},isVisible:v,label:g._(/*FBT_CALL*/"Invite to be a moderator"/*FBT_CALL*/),dialogEntryPoint:b("GroupsCometMembersInviteModeratorDialog.entrypoint"),source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"}),j.jsx(m,{groupID:a,icon:x?b("fbicon")._(h("538080"),24):b("fbicon")._(h("538075"),16),memberID:e,mwSource:{entity:"mw.remove_as_moderator",key:"admin_action_menu_item"},isVisible:w,label:g._(/*FBT_CALL*/"Remove as moderator"/*FBT_CALL*/),dialogEntryPoint:b("GroupsCometMembersRemoveModeratorDialog.entrypoint"),source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"}),j.jsx(m,{groupID:a,icon:x?b("fbicon")._(h("538080"),24):b("fbicon")._(h("538075"),16),memberID:e,mwSource:{entity:"mw.cancel_moderator_invite",key:"admin_action_menu_item"},isVisible:c,label:g._(/*FBT_CALL*/"Cancel moderator invitation"/*FBT_CALL*/),dialogEntryPoint:b("GroupsCometMembersCancelModeratorInvitationDialog.entrypoint"),source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"})]}):null})}var o={make:n};function a(a){var c=a.thread;a=a.contactId;var d=b("MWCMUseFolder.bs").useHook(c),e=d!==void 0?b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").reactiveModerationInBlue,d):!1;if(e&&d!==void 0)return j.jsx(n,{thread:c,contactId:a,folder:d});else return null}a=a;f.UnsuspendMenuItem=c;f.UnblockMenuItem=d;f.EntrypointMenuItem=e;f.MenuItems=o;f.make=a}),null);
__d("MWLSRemoveFromGroupMenuItem.bs",["fbt","ix","CurrentEnvironment","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.bs","LSMessagingThreadTypeUtil.bs","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWLSGroupMembershipMenuIcons.bs","MWMenuItem.react","MWPRemoveFromGroup.bs","Promise","bs_caml_option","bs_curry","cr:1368","cr:3684","fbicon","react","useCometConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");c=b("cr:3684")==null?void 0:b("bs_caml_option").some(b("cr:3684"));function a(a){var c=a.thread,d=a.contactId;a=b("MWCMUseFolder.bs").useHook(c);var e=b("useCometConfirmationDialog")(),f=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),i=b("MWPRemoveFromGroup.bs").useHook(c),k=function(a){if(b("cr:3684")==null)return b("Promise").resolve(void 0);else return b("bs_curry")._2(b("cr:3684").removeFromShadowGroups,c.threadKey,a)},l=b("useReStore")(),m,n=0;b("cr:1368")==null||!f?n=1:m=b("cr:1368").createRemoveParticipantCallback(l,c);n===1&&(m=function(a){k(a);return i(a)});f=j.useCallback(function(a){a={body:g._(/*FBT_CALL*/"Are you sure that you want to remove this person from the conversation? They will no longer be able to send or receive new messages."/*FBT_CALL*/),cancel:g._(/*FBT_CALL*/"Cancel"/*FBT_CALL*/),confirm:g._(/*FBT_CALL*/"Remove from Chat"/*FBT_CALL*/),title:g._(/*FBT_CALL*/"Remove from chat?"/*FBT_CALL*/)};return b("bs_curry")._3(e,a,function(a){m(d)},function(a){})},[e,JSON.stringify(d),m]);l=a!==void 0?b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").reactiveModerationInBlue,a):!1;n=b("CurrentEnvironment").facebookdotcom?b("bs_caml_option").some(b("MWLSGroupMembershipMenuIcons.bs").RemoveMember.icon):b("bs_caml_option").some(b("fbicon")._(h("491580"),16));a=l&&b("MWCMThreadTypes.bs").isAnyCMThread(c.threadType)?g._(/*FBT_CALL*/"Remove member from chat"/*FBT_CALL*/):g._(/*FBT_CALL*/"Remove member"/*FBT_CALL*/);a={primaryText:a,onClick:f,testid:"mw_remove_from_group_menu_item",source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"};f=l?n:void 0;f!==void 0&&(a.icon=b("bs_caml_option").valFromOption(f));return j.jsx(b("MWMenuItem.react"),a)}d=a;f.$MAWDualSendGroupMembershipManagement$requireCond=b("cr:3684");f.mawDualSendGroupMembershipManagement=c;f.$MAWRemoveGroupParticipantsUtils$requireCondXplat=b("cr:1368");f.make=d}),null);
__d("MWLSGroupMembershipMenu.bs",["fbt","ix","CurrentEnvironment","FBID.bs","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.bs","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactTypeExact.bs","LSDatabaseDeferred.bs","LSMakeAdminMenuItem.bs","LSMessagingThreadTypeUtil.bs","LSRemoveAdminMenuItem.bs","LsMessengerThreadDamagingActionsEntryPoint.bs","LsMessengerThreadDamagingActionsSource","LsMessengerThreadDamagingActionsSourceOwner","MAWChatCheckForSecureTab.bs","MAWCreateOneToOneThread.bs","MAWGating.bs","MAWThreadId.bs","MWCMAdminActionMenuItems.bs","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWGroupMembershipListItem.bs","MWInboxInfoBlockMessages.bs","MWLSFeatureLimitedStatus.bs","MWLSGroupMembershipMenuIcons.bs","MWLSLeaveGroupMenuItem.bs","MWLSRemoveFromGroupMenuItem.bs","MWMenu.react","MWMenuItem.react","MWMenuTopSeparator.bs","MWPActor.bs","MWPBumpEntityKey.bs","MWV2OpenTabOrThread.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","XCometContextualProfileControllerRouteBuilder","XCometVanityURLControllerRouteBuilder","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","bs_int64","fbicon","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){var c=a.onCloseDialog,d=a.contactId,e=a.secondaryName,f=a.isIgUser;a=a.thread;a=b("MWCMUseFolder.bs").useHook(a);var i,k=0;a!==void 0?i="https://www.facebook.com"+b("XCometContextualProfileControllerRouteBuilder").buildURL({group_idorvanity:b("bs_int64").to_string(a.fbGroupId),member_id:b("bs_int64").to_string(d)}):e!==void 0&&f?i="https://www.instagram.com/"+b("bs_caml_option").valFromOption(e):k=1;k===1&&(i=(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d))}));f=a!==void 0?b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").reactiveModerationInBlue,a):!1;e=b("CurrentEnvironment").facebookdotcom?b("bs_caml_option").some(b("MWLSGroupMembershipMenuIcons.bs").ViewProfile.icon):b("bs_caml_option").some(b("fbicon")._(h("486580"),16));k={primaryText:g._(/*FBT_CALL*/"View profile"/*FBT_CALL*/),href:i,onClick:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","chat_members_overflow_view_profile");return b("bs_curry")._1(c,void 0)}};d=f?e:void 0;d!==void 0&&(k.icon=b("bs_caml_option").valFromOption(d));a=b("CurrentEnvironment").facebookdotcom?void 0:"_blank";a!==void 0&&(k.target=b("bs_caml_option").valFromOption(a));return j.jsx(b("MWMenuItem.react"),k)}c={make:k};function l(a){var c=b("MWV2OpenTabOrThread.bs").useHook(void 0);return function(a,d){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","chat_members_overflow_message"),b("promiseDone")(b("MAWChatCheckForSecureTab.bs").verifyThreadCutover(a).then(function(c){var e=c||d;if(e)return b("LSDatabaseDeferred.bs").db.then(function(c){return b("MAWCreateOneToOneThread.bs").call(c,a,void 0,void 0).then(function(a){return b("MAWThreadId.bs").toThreadKey(c,a.chatId)}).then(function(a){return b("Promise").resolve([a,e])})});else return b("Promise").resolve([a,e])}),function(a){return b("bs_curry")._2(c.openInbox,{threadKey:a[0],clientThreadKey:void 0,threadType:a[1]?b("MessagingThreadType.bs").secureMessageOverWaOneToOne:b("MessagingThreadType.bs").oneToOne},"groupMembers")},void 0)}}function m(a){var c=a.contactId,d=a.thread;a=a.isSecureThread;var e=a!==void 0?a:!1,f=l(void 0);a=b("MWCMUseFolder.bs").useHook(d);d=a!==void 0?b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").reactiveModerationInBlue,a):!1;a=b("CurrentEnvironment").facebookdotcom?b("bs_caml_option").some(b("MWLSGroupMembershipMenuIcons.bs").Message.icon):b("bs_caml_option").some(b("fbicon")._(h("505616"),16));var i={primaryText:g._(/*FBT_CALL*/"Message"/*FBT_CALL*/),onClick:function(a){return b("bs_curry")._2(f,c,e)}};d=d?a:void 0;d!==void 0&&(i.icon=b("bs_caml_option").valFromOption(d));return j.jsx(b("MWMenuItem.react"),i)}d={make:m};function n(a){var c=a.thread;a=a.contactId;return j.jsx(b("MWInboxInfoBlockMessages.bs").make,{thread:c,contactId:a,isPage:!1,children:function(a,d,e,f){var g=b("MWCMUseFolder.bs").useHook(c);g=g!==void 0?b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").reactiveModerationInBlue,g):!1;var i=b("CurrentEnvironment").facebookdotcom?b("bs_caml_option").some(b("MWLSGroupMembershipMenuIcons.bs").Block.icon):b("bs_caml_option").some(b("fbicon")._(h("482896"),16));e={primaryText:e,onClick:function(c){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","chat_members_overflow_block."+(f?"unblock":"block"));return b("bs_curry")._1(a,void 0)},ref:d,source:b("CurrentEnvironment").messengerdotcom?"community_chat_profile_m_com":"community_chat_profile_fb_com"};d=g?i:void 0;d!==void 0&&(e.icon=b("bs_caml_option").valFromOption(d));return j.jsx(b("MWMenuItem.react"),e)},loggingEntryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettingsGroupMembers,loggingSource:b("LsMessengerThreadDamagingActionsSource").GROUP_THREAD,loggingSourceOwner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI})}e={make:n};function a(a){var c=a.onCloseDialog,d=a.thread,e=a.membershipListItem;a=a.isMAWParticipantSuperAdmin;var f=b("MWGroupMembershipListItem.bs").isAdmin(e);f=f!==void 0?f:!1;var g=b("MWPActor.bs").useActor(void 0),h=b("MWGroupMembershipListItem.bs").contactId(e),i=b("bs_caml").i64_eq(h,g),l=b("useReStore")(),o=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(l.table("participants")),{hd:d.threadKey,tl:{hd:g,tl:0}})},[l,JSON.stringify(d.threadKey),JSON.stringify(g)]));if(o!==void 0){o=o.isAdmin;o=o!==void 0?o:!1}else o=!1;if(e.TAG===0){var p,q=e._1;p=[(p=b("bs_belt_Option")).getWithDefault(q.canViewerMessage,!1),p.getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").seeFacebookProfile,q),!0),p.getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").makeAdmin,q),!1),p.getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").removeAsAdmin,q),!1),q.secondaryName,b("bs_caml").i64_eq(q.contactTypeExact,b("LSContactTypeExact.bs").igUser),q.name]}else p=[!1,!0,!1,!1,void 0,!1,e._0.name];q=p[6];e=b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType);var r=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!e||b("MAWGating.bs").isFeatureLimitEnabled(void 0)),s=b("MWCMThreadTypes.bs").isJoinedCMThread(d.threadType);return j.jsxs(b("MWMenu.react"),{children:[!i&&p[0]?j.jsx(m,{contactId:h,thread:d,isSecureThread:e}):null,p[1]?j.jsx(k,{onCloseDialog:c,contactId:h,secondaryName:p[4],isIgUser:p[5],thread:d}):null,i?null:j.jsx(n,{thread:d,contactId:h}),j.jsxs(b("MWMenuTopSeparator.bs").make,{children:[s?null:f?p[3]&&o&&!a&&!r?j.jsx(b("LSRemoveAdminMenuItem.bs").make,{thread:d,contactId:h,name:q}):null:p[2]&&o&&!r?j.jsx(b("LSMakeAdminMenuItem.bs").make,{thread:d,contactId:h,name:q}):null,i?j.jsx(b("MWLSLeaveGroupMenuItem.bs").make,{thread:d,shouldNavigate:!0}):o&&!r&&(!s&&!a||!f)?j.jsx(b("MWLSRemoveFromGroupMenuItem.bs").make,{thread:d,contactId:h}):null]}),j.jsx(b("MWCMAdminActionMenuItems.bs").make,{thread:d,contactId:h})],size:"small",withArrow:!0})}a=a;f.ViewProfileMenuItem=c;f.useNavigateToThread=l;f.MessageUserMenuItem=d;f.BlockOrUnblockMenuItem=e;f.make=a}),null);
__d("MWLSGroupMembershipMenu.react",["MWLSGroupMembershipMenu.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MWLSGroupMembershipMenu.bs").make}),98);
__d("MWLSGroupMembershipMenuFDSIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("fbicon"))._(g("505621"),24);d={icon:c};e=a._(g("486584"),24);b={icon:e};c=a._(g("482899"),24);e={icon:c};c=a._(g("538080"),24);c={icon:c};a=a._(g("491585"),24);g={icon:a};f.Message=d;f.ViewProfile=b;f.Block=e;f.RemoveAsAdmin=c;f.RemoveMember=g}),null);/*FB_PKG_DELIM*/
__d("GroupsCometMembersRemoveAdminDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4877048062403877"}),null);
__d("GroupsCometMembersRemoveAdminDialogQuery$Parameters",["GroupsCometMembersRemoveAdminDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometMembersRemoveAdminDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometMembersRemoveAdminDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometMembersRemoveModeratorDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5024932034252695"}),null);
__d("GroupsCometMembersRemoveModeratorDialogQuery$Parameters",["GroupsCometMembersRemoveModeratorDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometMembersRemoveModeratorDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometMembersRemoveModeratorDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("ProfileCometActionRemoveGroupAdminHandler_handler$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"ProfileCometActionRemoveGroupAdminHandler_handler$normalization",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[a,b],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_entity",plural:!1,selections:[a,b,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_sole_admin_treatment",storageKey:null}],type:"Group",abstractKey:null}],storageKey:null},b,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"admin_type",storageKey:null}],type:"ProfileActionRemoveGroupAdmin",abstractKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("ProfileCometActionRemoveGroupAdminHandler_handler.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometActionRemoveGroupAdminHandler_handler",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[a],storageKey:null},action:"THROW",path:"profile_action.entity"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_entity",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_sole_admin_treatment",storageKey:null},a],type:"Group",abstractKey:null}],storageKey:null},action:"THROW",path:"profile_action.associated_entity"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"admin_type",storageKey:null}],type:"ProfileActionRemoveGroupAdmin",abstractKey:null}],storageKey:null},action:"THROW",path:"profile_action"}],type:"ProfileActionRemoveGroupAdminHandler",abstractKey:null}}();e.exports=a}),null);
__d("GroupsCometMembersRemoveAdminDialog.entrypoint",["GroupsCometMembersRemoveAdminDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.groupID;a=a.memberID;return{queries:{removeAdminQueryReference:{parameters:b("GroupsCometMembersRemoveAdminDialogQuery$Parameters"),variables:{groupID:c,memberID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometMembersRemoveAdminDialog.react").__setRef("GroupsCometMembersRemoveAdminDialog.entrypoint")};g["default"]=a}),98);
__d("GroupsCometMembersRemoveModeratorDialog.entrypoint",["GroupsCometMembersRemoveModeratorDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.groupID;a=a.memberID;return{queries:{removeModeratorQueryReference:{parameters:b("GroupsCometMembersRemoveModeratorDialogQuery$Parameters"),variables:{groupID:c,memberID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometMembersRemoveModeratorDialog.react").__setRef("GroupsCometMembersRemoveModeratorDialog.entrypoint")};g["default"]=a}),98);
__d("ProfileCometActionRemoveGroupAdminHandler.react",["Actor","CometRelay","GroupsCometMembersRemoveAdminDialog.entrypoint","GroupsCometMembersRemoveModeratorDialog.entrypoint","GroupsCometSoleAdminDialog.entrypoint","ProfileCometActionRemoveGroupAdminHandler_handler.graphql","react","unrecoverableViolation","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;d("react");var i=d("react").useRef;function a(a){var e,f=a.children;a=a.handler;a=d("CometRelay").useFragment(h!==void 0?h:h=b("ProfileCometActionRemoveGroupAdminHandler_handler.graphql"),a);a=a.profile_action;var g=d("Actor").useActor();g=g[0];e=(e=a.associated_entity)==null?void 0:e.id;var j=a.associated_entity.can_viewer_see_sole_admin_treatment===!0,k=a.entity.id;a=a.admin_type;if(e==null||k==null)throw c("unrecoverableViolation")("Need member ID and group ID to remove admin from group","profile_comet");var l=i(null),m=c("useCometEntryPointDialog")(c("GroupsCometMembersRemoveAdminDialog.entrypoint"),{groupID:e,memberID:k}),n=m[0],o=m[1],p=m[2];m=m[3];var q=i(null),r=c("useCometEntryPointDialog")(c("GroupsCometSoleAdminDialog.entrypoint"),{groupID:e}),s=r[0],t=r[1],u=r[2];r=r[3];var v=i(null);e=c("useCometEntryPointDialog")(c("GroupsCometMembersRemoveModeratorDialog.entrypoint"),{groupID:e,memberID:k});var w=e[0],x=e[1],y=e[2];e=e[3];if(a==="MODERATOR")return f({onHoverIn:x,onHoverOut:y,onPress:function(){return w({source:"CONTEXTUAL_PROFILE"})},onPressIn:e,ref:v});return g===k&&j?f({onHoverIn:t,onHoverOut:u,onPress:function(){return s({actionSource:"CONTEXTUAL_PROFILE",trigger:"DEMOTE_SELF"})},onPressIn:r,ref:q}):f({onHoverIn:o,onHoverOut:p,onPress:function(){return n({source:"CONTEXTUAL_PROFILE"})},onPressIn:m,ref:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSApplyNewGroupThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.ftr(b.db.table(9).fetch(),function(c){return b.i64.eq(c.threadKey,a[1])||c.otidOfFirstMessage===a[0]}).next().then(function(c,e){e=c.done;c=c.value;return e?b.seq([function(c){return b.fe(b.ftr(b.db.table(9).fetch([[[a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.lt(c.authorityLevel,[0,80])}),function(a){return a["delete"]()})},function(c){return b.db.table(9).add({threadKey:a[1],mailboxType:[0,0],threadType:a[2],folderName:a[3],parentThreadKey:a[4],threadPictureUrlFallback:a[5],lastActivityTimestampMs:a[6],lastReadWatermarkTimestampMs:a[6],ongoingCallState:[0,0],nullstateDescriptionText1:a[8],nullstateDescriptionType1:a[9],nullstateDescriptionText2:a[10],nullstateDescriptionType2:a[11],cannotUnsendReason:a[12],capabilities:a[13],capabilities2:[0,0],capabilities3:[0,0],otidOfFirstMessage:a[0],authorityLevel:[0,80],unsendLimitMs:[-1,4294967295],inviterId:a[14]})}]):(c.item,b.fe(b.ftr(b.db.table(9).fetch(),function(c){return b.i64.eq(c.threadKey,a[1])||c.otidOfFirstMessage===a[0]}),function(b){var c=b.update;b.item;return c({threadKey:a[1],folderName:a[3],parentThreadKey:a[4],threadPictureUrlFallback:a[5],lastActivityTimestampMs:a[6],lastReadWatermarkTimestampMs:a[6],ongoingCallState:[0,0],nullstateDescriptionText1:a[8],nullstateDescriptionType1:a[9],nullstateDescriptionText2:a[10],nullstateDescriptionType2:a[11],cannotUnsendReason:a[12],capabilities:a[13],capabilities2:[0,0],capabilities3:[0,0],authorityLevel:[0,80],unsendLimitMs:[-1,4294967295],cannotReplyReason:d})}))})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSOverwriteAllThreadParticipantsAdminStatus",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(14).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({isAdmin:a[1]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSRemoveAllParticipantsForThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(14).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSSyncUpdateThreadName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.ftr(b.db.table(9).fetch([[[a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&(b.i64.eq(c.threadType,[0,2])||[[0,23],[0,21],[0,18]].some(function(a){return b.i64.eq(c.threadType,a)}))}),function(b){var c=b.update;b.item;return c({threadName:a[0]===""?d:a[0].trim()})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSUpdateThreadParticipantAdminStatus",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(14).fetch([[[a[0],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.contactId,a[1])}),function(b){var c=b.update;b.item;return c({isAdmin:a[2]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);/*FB_PKG_DELIM*/
__d("MWV2MessageProfilePhotoMenu.bs",["LSContactTypeExact.bs","MWCMAdminActionMenuItems.bs","MWCMThreadTypes.bs","MWLSGroupMembershipMenu.bs","MWMenu.react","ReQL.bs","ReQLSubscription.bs","bs_caml","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.message;a=a.onClose;var d=b("useReStore")(),e=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("threads")),{hd:c.threadKey,tl:0})},[d,JSON.stringify(c.threadKey)])),f=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("participants")),{hd:c.threadKey,tl:{hd:c.senderId,tl:0}})},[JSON.stringify(c.threadKey),JSON.stringify(c.senderId),d])),g=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:c.senderId,tl:0})},[JSON.stringify(c.senderId),d]));a=f!==void 0&&g!==void 0&&e!==void 0?h.jsx(b("MWLSGroupMembershipMenu.bs").ViewProfileMenuItem.make,{onCloseDialog:a,contactId:g.id,secondaryName:g.secondaryName,isIgUser:b("bs_caml").i64_eq(g.contactTypeExact,b("LSContactTypeExact.bs").igUser),thread:e}):null;f=f!==void 0&&g!==void 0&&e!==void 0?h.jsx(b("MWLSGroupMembershipMenu.bs").MessageUserMenuItem.make,{contactId:g.id,thread:e}):null;e=e!==void 0&&g!==void 0&&b("MWCMThreadTypes.bs").isAnyCMThread(e.threadType)?h.jsx(b("MWCMAdminActionMenuItems.bs").make,{thread:e,contactId:g.id}):null;return h.jsxs(b("MWMenu.react"),{children:[a,f,e],size:"small",withArrow:!0})}c=a;f.make=c}),null);
__d("MWV2MessageProfilePhotoMenu",["MWV2MessageProfilePhotoMenu.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MWV2MessageProfilePhotoMenu.bs").make}),98);/*FB_PKG_DELIM*/
__d("MWMenuTopSeparator.bs",["CometMenuSeparator.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.children;var c=h.Children.toArray(a).some(function(a){return a!==null});return h.jsxs(h.Fragment,{children:[c?h.jsx(b("CometMenuSeparator.react"),{}):null,a]})}c=a;f.make=c}),null);
__d("MAWSecureThreadUpdateMuteSetting.bs",["MAWBackendBridge.bs","MAWThreadId.bs","Promise","bs_curry","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=b("useReStore")();return h.useCallback(function(f){return b("MAWThreadId.bs").ofThreadKey(e,a).then(function(a){if(a)return b("bs_curry")._1(b("MAWBackendBridge.bs").updateThreadMuteSetting({threadId:a._0,muteDuration:c}).sendAndReceive,void 0).then(function(a){return b("bs_curry")._1(d,void 0)});else return b("Promise").resolve(void 0)})},[e,a,c,d])}f.useHook=a}),null);
__d("XCometGroupLandingControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groupslanding/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);