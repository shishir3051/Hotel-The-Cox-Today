if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MemoriesCometPhotoSelectorContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5035356986521738"}),null);
__d("MemoriesCometPhotoSelectorContainerQuery$Parameters",["MemoriesCometPhotoSelectorContainerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MemoriesCometPhotoSelectorContainerQuery_facebookRelayOperation"),metadata:{},name:"MemoriesCometPhotoSelectorContainerQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MemoriesCometAssistedCreationDeleteBannerMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5111878525530594"}),null);
__d("MemoriesCometAssistedCreationDeleteBannerMutation.graphql",["MemoriesCometAssistedCreationDeleteBannerMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d=[{kind:"Literal",name:"header_type",value:"ATTACHMENT_TEMPLATE"},{kind:"Literal",name:"supported",value:["GoodwillCometFullWidthHeader"]}],e={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"preview_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"GoodwillCometFullWidthHeader",abstractKey:null},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MemoriesCometAssistedCreationDeleteBannerMutation",selections:[{alias:null,args:c,concreteType:"AssistedCreationDeleteBannerResponsePayload",kind:"LinkedField",name:"assisted_creation_delete_banner",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"GoodwillThrowbackQuery",kind:"LinkedField",name:"throwback",plural:!1,selections:[{alias:null,args:null,concreteType:"GoodwillThrowbackFeedUnitsConnection",kind:"LinkedField",name:"throwback_units",plural:!1,selections:[{alias:null,args:null,concreteType:"GoodwillThrowbackFeedUnitsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"feed_unit",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"attachment_header",args:d,concreteType:null,kind:"LinkedField",name:"header_renderer",plural:!1,selections:[e],storageKey:'header_renderer(header_type:"ATTACHMENT_TEMPLATE",supported:["GoodwillCometFullWidthHeader"])'}],type:"GoodwillCometContentStoryProps",abstractKey:null}],storageKey:null}],type:"GoodwillCometStory",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MemoriesCometAssistedCreationDeleteBannerMutation",selections:[{alias:null,args:c,concreteType:"AssistedCreationDeleteBannerResponsePayload",kind:"LinkedField",name:"assisted_creation_delete_banner",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"GoodwillThrowbackQuery",kind:"LinkedField",name:"throwback",plural:!1,selections:[{alias:null,args:null,concreteType:"GoodwillThrowbackFeedUnitsConnection",kind:"LinkedField",name:"throwback_units",plural:!1,selections:[{alias:null,args:null,concreteType:"GoodwillThrowbackFeedUnitsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"feed_unit",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{alias:"attachment_header",args:d,concreteType:null,kind:"LinkedField",name:"header_renderer",plural:!1,selections:[f,e],storageKey:'header_renderer(header_type:"ATTACHMENT_TEMPLATE",supported:["GoodwillCometFullWidthHeader"])'}],type:"GoodwillCometContentStoryProps",abstractKey:null},g],storageKey:null}],type:"GoodwillCometStory",abstractKey:null},g],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MemoriesCometAssistedCreationDeleteBannerMutation_facebookRelayOperation"),metadata:{},name:"MemoriesCometAssistedCreationDeleteBannerMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("GoodwillCampaignSource",[],(function(a,b,c,d,e,f){a=Object.freeze({NEWS_FEED:"news_feed",THROWBACK_PERMALINK:"throwback_permalink",THROWBACK_PROMOTION:"throwback_promotion",BIRTHDAY_CENTER:"birthday_center",UNKNOWN:"unknown"});f["default"]=a}),66);
__d("MemoriesCometAssistedCreationDeleteBannerMutation",["CometRelay","MemoriesCometAssistedCreationDeleteBannerMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MemoriesCometAssistedCreationDeleteBannerMutation.graphql");function a(a,b,c){return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:c&&c.onSuccess,onError:c&&c.onError,variables:b})}g["default"]=a}),98);
__d("CometMemoriesExplorePhotosGlimmer.react",["BaseGlimmer.react","BaseLoadingStateElement.react","CometFlexibleGrid.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={headerContainer:{paddingBottom:"ihqw7lf3",paddingTop:"jktsbyx5"},headerGlimmer:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"ed3p1gfi",width:"n99xedck"},item:{height:"kklyeox3",width:"ygsqo3sx"}};function a(a){var b=a.columnWidth;b=b===void 0?160:b;var d=a.includeHeader,e=a.photoCount,f=a.photoStyle;return h.jsxs(c("BaseLoadingStateElement.react"),{children:[d===!0?h.jsx("div",{className:c("stylex")(i.headerContainer),children:h.jsx(c("BaseGlimmer.react"),{className:c("stylex")(i.headerGlimmer),index:0})}):null,h.jsx(c("CometFlexibleGrid.react"),{columnMaxWidth:b,columnMinWidth:b,minItems:e,children:Array.from(new Array(e),function(a,b){return h.jsx("div",{className:c("stylex")(f),children:h.jsx(c("BaseGlimmer.react"),{className:c("stylex")(i.item),index:0})},b)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MemoriesCometPhotoSelectorContainer.entrypoint",["JSResourceForInteraction","MemoriesCometPhotoSelectorContainerQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.campaignID;a=a.friendIDs;return{queries:{photosReference:{parameters:c("MemoriesCometPhotoSelectorContainerQuery$Parameters"),variables:{campaignID:b,friendIDs:(b=a)!=null?b:[],hasFriends:a!=null?a.length>0:!1,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("MemoriesCometPhotoSelectorContainer.react").__setRef("MemoriesCometPhotoSelectorContainer.entrypoint")};g["default"]=a}),98);
__d("MemoriesCometPhotoSelectorPushPage.react",["CometMemoriesExplorePhotosGlimmer.react","CometPlaceholder.react","CometRelay","MemoriesCometPhotoSelectorContainer.entrypoint","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k={container:{minWidth:"kh2ilo2s"},imagePadding:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"},placeholder:{height:"gxf9mp49",paddingStart:"gm7ombtx"}};function a(a){var b=a.campaignID,e=a.friendIDs,f=a.showSatpSection,g=f===void 0?!1:f;f=babelHelpers.objectWithoutPropertiesLoose(a,["campaignID","friendIDs","showSatpSection"]);var l=d("CometRelay").useRelayEnvironment();a=j(function(){return{getEnvironment:function(){return l}}},[l]);a=d("CometRelay").useEntryPointLoader(a,c("MemoriesCometPhotoSelectorContainer.entrypoint"));var m=a[0],n=a[1];i(function(){return n({campaignID:g?b:void 0,friendIDs:e})},[b,e,g,n]);return m==null?null:h.jsx("div",{className:c("stylex")(k.container),children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsxs("div",{className:c("stylex")(k.placeholder),children:[h.jsx(c("CometMemoriesExplorePhotosGlimmer.react"),{columnWidth:168,includeHeader:!0,photoCount:6,photoStyle:k.imagePadding}),h.jsx(c("CometMemoriesExplorePhotosGlimmer.react"),{columnWidth:168,includeHeader:!0,photoCount:3,photoStyle:k.imagePadding})]}),children:h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:m,props:babelHelpers["extends"]({campaignID:b,friendIDs:e,showSatpSection:g},f)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ThrowbackComposerLinkAttachmentArea.react",["fbt","ix","CometComposerGenericAttachmentPendingPreview.react","CometComposerPushPageContext","CometPlaceholder.react","CometRelay","ComposerLinkAttachmentPreview.react","GoodwillCampaignSource","MemoriesCometAssistedCreationDeleteBannerMutation","MemoriesCometPhotoSelectorPushPage.react","TetraButton.react","TetraCircleButton.react","composerLinkAttachmentReducer","fbicon","getJSEnumSafe","react","requireDeferred","stylex","useCometComposerPushPage","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart","withTagIDsTrackerConversionUtils"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useState;c("requireDeferred")("linkAttachmentAreaFeedTransform").__setRef("ThrowbackComposerLinkAttachmentArea.react").onReadyImmediately(function(){});var m={deleteHeaderButton:{end:"b5fwa0m2",position:"pmk7jnqg",top:"plgsh5y4"},preview:{position:"l9j0dhe7"},root:{height:"t8wgmvqr",paddingBottom:"dy7m38rt",width:"k4urcfbm"},share:{height:"datstx6m",marginBottom:"mkjtxrlb",paddingBottom:"qt6c0cv9"}};function a(a){var b,e=a.customAttachments,f=a.goodwillCampaignInfo,g=a.storyId,n=a.url,o=a.withTagIDsTracker,p=d("CometRelay").useRelayEnvironment();a=f||{};var q=a.campaignId;a=a.hasBanner;e=e&&((e=e[0])==null?void 0:e.throwback_card);b=(b=e==null?void 0:e.media_ids)!=null?b:[];e=e==null?void 0:e.source;var r=c("useCometComposerPushPage")();a=l(a);var s=a[0],t=a[1];c("useComposerViewStateReducer")(c("composerLinkAttachmentReducer"));var u=c("useComposerViewStateDispatcher")();a=k(function(){q!=null&&r(h._(/*FBT_CALL*/"Select Photos"/*FBT_CALL*/),function(a){var b=a.onReturn;return j.jsx(c("CometComposerPushPageContext").Provider,{value:r,children:j.jsx(c("MemoriesCometPhotoSelectorPushPage.react"),{campaignID:q,campaignInfo:{campaignId:q},friendIDs:d("withTagIDsTrackerConversionUtils").convertWithTagIDsTrackerToArray(o),initialSelectedPhotos:[],maxPhotosSelected:4,minPhotosSelected:2,onClose:function(){},onSubmitOverride:function(a){a=a.map(function(a){return a.id});u({mediaIds:a,type:"SET_THROWBACK_MEDIA"});b()}})})})},[q,u,r,o]);var v=k(function(){q!=null&&c("MemoriesCometAssistedCreationDeleteBannerMutation")(p,{input:{campaign_id:q}},{onError:function(){return t(!0)}}),t(!1)},[q,p]);if(n==null)return null;var w=f!=null?babelHelpers["extends"]({},f,{hasBanner:s}):void 0;return j.jsxs("div",{className:c("stylex")([m.root,g!==null&&m.share]),children:[j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("CometComposerGenericAttachmentPendingPreview.react"),{}),children:j.jsxs("div",{className:c("stylex")(m.preview),children:[j.jsx(c("ComposerLinkAttachmentPreview.react"),{goodwillCampaignInfo:w,goodwillCampaignMediaIds:b.filter(Boolean),renderLocation:"throwback_composer",storyId:g!=null?g:void 0,url:n}),s===!0&&j.jsx("div",{className:c("stylex")(m.deleteHeaderButton),children:j.jsx(c("TetraCircleButton.react"),{color:"white",icon:d("fbicon")._(i("478232"),16),label:h._(/*FBT_CALL*/"Close"/*FBT_CALL*/),onPress:v,size:32,type:"dark-overlay"})})]})}),(f==null?void 0:f.photoFrameId)!=null&&c("getJSEnumSafe")(c("GoodwillCampaignSource"),e)==="news_feed"&&b.length>=2&&j.jsx(c("TetraButton.react"),{label:h._(/*FBT_CALL*/"Select Photos"/*FBT_CALL*/),onPress:a,type:"overlay"})]})}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){var b;return{customAttachments:(b=a.linkAttachment)==null?void 0:b.customAttachments,goodwillCampaignInfo:(b=a.linkAttachment)==null?void 0:b.goodwillCampaignInfo,storyId:(b=a.linkAttachment)==null?void 0:b.storyId,url:(b=a.linkAttachment)==null?void 0:b.url,withTagIDsTracker:a.withTagIDsTracker}});g["default"]=e}),98);
__d("FeedComposerShareAttachmentRenderer.react",["ComposerLinkAttachmentArea.react","ThrowbackComposerLinkAttachmentArea.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.composerType;return a==="goodwill_campaign"?h.jsx(c("ThrowbackComposerLinkAttachmentArea.react"),{}):h.jsx(c("ComposerLinkAttachmentArea.react"),{isShare:!0})}a.displayName=a.name+" [from "+f.id+"]";b=a;g["default"]=b}),98);